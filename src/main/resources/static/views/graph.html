<!DOCTYPE html>
<html>
 <!-- Styles -->
<style>
#chartdiv {
	width	: 100%;
	height	: 500px;
}												
</style>



<!-- Chart code -->
<script>
var chartData = generateChartData();

var chart = AmCharts.makeChart("chartdiv", {
    "type": "serial",
    "theme": "light",
    "marginRight": 80,
    "dataProvider": chartData,
    "valueAxes": [{
        "position": "left",
        "title": "Unique visitors"
    }],
    "graphs": [{
        "id": "g1",
        "fillAlphas": 0.4,
        "valueField": "visits",
         "balloonText": "<div style='margin:5px; font-size:19px;'>Visits:<b>[[value]]  [[finalPnL]] </b></div>"
    }],
    "chartScrollbar": {
        "graph": "g1",
        "scrollbarHeight": 80,
        "backgroundAlpha": 0,
        "selectedBackgroundAlpha": 0.1,
        "selectedBackgroundColor": "#888888",
        "graphFillAlpha": 0,
        "graphLineAlpha": 0.5,
        "selectedGraphFillAlpha": 0,
        "selectedGraphLineAlpha": 1,
        "autoGridCount": true,
        "color": "#AAAAAA"
    },
    "chartCursor": {
        "categoryBalloonDateFormat": "JJ:NN, DD MMMM",
        "cursorPosition": "mouse"
    },
    "categoryField": "date1"
   
    
});

chart.addListener("dataUpdated", zoomChart);
// when we apply theme, the dataUpdated event is fired even before we add listener, so
// we need to call zoomChart here
zoomChart();
// this method is called when chart is first inited as we listen for "dataUpdated" event
function zoomChart() {
    // different zoom methods can be used - zoomToIndexes, zoomToDates, zoomToCategoryValues
    chart.zoomToIndexes(chartData.length - 250, chartData.length - 100);
}

// generate some random data, quite different range
function generateChartData() {
	/*  var chartData = $scope.chartData;
	console.log('on html ====', chartData);   */
      var chartData = [];
	console.log('graph data--------------------------');
   chartData = [{
      "visits": 0.25,
      "date1": 4000.0,
      "finalPnL": -300000.0,
      "stockPrice": 1775.0
    },
    {
      "visits": 0.2,
      "date1": 400000.0,
      "finalPnL": -400000.0,
      "stockPrice": 1704.0
    }]   
    return chartData;
}
</script>
 
 
 <br></br>
 <div  ng-if ="showGraph" style="width: 100%; display: inline-flex;">
<div ng-if ="showGraph" style="width: 200px;"><b>Strategy Positions
<br></br>
Max. Profit   &nbsp;&nbsp;&nbsp;&nbsp; {{maxProfit}}<br></br>
Max. Loss   &nbsp;&nbsp;&nbsp;&nbsp;   {{maxLoss}}<br></br>
Breakevens  &nbsp;&nbsp;&nbsp;&nbsp;   {{breakEvens}}<br></br>
Total PNL   &nbsp;&nbsp;&nbsp;&nbsp;   {{totalPnl}}
</b></div>
 <div  ng-if ="showGraph" style="height: 450px; width: calc(100% - 200px);">
        <am-chart id="myFirstChart" options="amChartOptions"></am-chart>
    </div>
    </div>
    
<!-- div   id="chartdiv"></div> -->

 
</body>
<script src="js/lib/angular.min.js"></script>
<script src="js/lib/angular-datepicker.js"></script>
<script src="js/lib/angular-datepicker.css"></script>
<script src="js/lib/ui-bootstrap-tpls-2.5.0.min.js"></script>
<script src="js/app/app.js"></script>
<script src="js/app/UserController.js"></script>
<script src="js/app/UserService.js"></script>
<link rel="stylesheet" href="css/lib/bootstrap.min.css"/>
<link rel="stylesheet" href="css/app/app.css"/>
 <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
<script src="https://www.amcharts.com/lib/3/serial.js"></script>
<script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
<script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
<!-- Resources -->
<script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
<script src="https://www.amcharts.com/lib/3/serial.js"></script>
<script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
<script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
<script src="js/lib/amcharts.js"></script>
<script src="js/lib/serial.js"></script>
<script src="js/lib/amChartsDirective.js"></script>
</html>